#! /usr/bin/env ruby

lib_path = File.expand_path('../../lib', __FILE__)
$LOAD_PATH.unshift(lib_path) unless $LOAD_PATH.include?(lib_path)

require 'automux'

case ARGV[0]
when 'setup'
  Automux::Setup.user_assets_folders
  Automux::Setup.clone_default_files
when 'blueprint'
  params = { name: ARGV[2] }
  Automux::Controller::Blueprints.new(params).send(ARGV[1])
else
  params = { blueprint_name: ARGV[0], recipe_name: 'default' }
  Automux::Controller::Recipes.new(params).automate
end
